<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>Gonzih's Blog</title>
 <link href="http://gonzih.github.com/atom.xml" rel="self"/>
 <link href="http://gonzih.github.com/"/>
 <updated>2011-04-16T11:28:43+03:00</updated>
 <id>http://gonzih.github.com/</id>
 <author>
   <name>Max Gonzih</name>
   <email>iam@gonzih.org</email>
 </author>

 
 <entry>
   <title>Rails BDD Cheatsheet</title>
   <link href="http://gonzih.github.com/new-rails-app-with-bdd-cheatsheet"/>
   <updated>2011-04-16T00:00:00+03:00</updated>
   <id>http://gonzih.github.com/new-rails-app-with-bdd-cheatsheet</id>
   <content type="html">&lt;br /&gt;
Содержимое Gemfile
&lt;br /&gt;
&lt;br /&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;  &lt;span class=&quot;n&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;http://rubygems.org&amp;#39;&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;rails&amp;#39;&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:production&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:development&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sqlite3&amp;#39;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;capistrano&amp;#39;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;ruby-debug19&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:require&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;ruby-debug&amp;#39;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:development&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:test&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;rspec-rails&amp;#39;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;cucumber-rails&amp;#39;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:test&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;#autotest stuff&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;autotest-rails&amp;#39;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;autotest-growl&amp;#39;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;capybara&amp;#39;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;database_cleaner&amp;#39;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;gherkin&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:git&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;https://github.com/aslakhellesoy/gherkin.git&amp;#39;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;launchy&amp;#39;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;email_spec&amp;#39;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;factory_girl_rails&amp;#39;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;timecop&amp;#39;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;br /&gt;
  Установка
&lt;br /&gt;
&lt;br /&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;  bundle install
  rails g rspec:install
  rails g cucumber:install --rspec --capybara
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;br /&gt;
  Включение autotest/growl
&lt;br /&gt;
&lt;br /&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;  &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;require &amp;#39;autotest/growl&amp;#39;&amp;quot;&lt;/span&gt; &amp;gt;&amp;gt; .autotest
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;br /&gt;
  Игнорим лишнее
&lt;br /&gt;
&lt;br /&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;  &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.DS_Store&amp;#39;&lt;/span&gt; &amp;gt;&amp;gt; .gitignore &lt;span class=&quot;c&quot;&gt;#для Cappuccino&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;br /&gt;
  Запуск autotest
&lt;br /&gt;
&lt;br /&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;  bundle &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;autotest
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;br /&gt;
  Все, можно приступать к работе
&lt;br /&gt;
&lt;br /&gt;
</content>
 </entry>
 
 <entry>
   <title>Использование git для управление vim плагинами</title>
   <link href="http://gonzih.github.com/use-git-for-manage-your-vim-extensions"/>
   <updated>2011-04-04T00:00:00+03:00</updated>
   <id>http://gonzih.github.com/use-git-for-manage-your-vim-extensions</id>
   <content type="html">&lt;p&gt;
Пост о том как держать свои плагины в актуальной версии, обновлять их с комфортом и все это с чудесными git &amp;&amp; github.
&lt;/p&gt;
&lt;br /&gt;
&lt;p&gt;
Нам понадобятся:
  &lt;ul&gt;
    &lt;li&gt;
      vim с установленым плагином &lt;a href=&quot;https://github.com/tpope/vim-pathogen&quot;&gt;pathogen&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
      git
    &lt;/li&gt;
    &lt;li&gt;
      github или другой git хостинг аккаунт
    &lt;/li&gt;
    &lt;li&gt;
      руки 2 шт
    &lt;/li&gt;
    &lt;li&gt;
      голова &gt; 1 шт
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/p&gt;
&lt;br /&gt;
&lt;p&gt;
Приступим.
Что такое pathogen? Pathogen позволяет устанавливать плагины в bundle/ директорию.
В vimrc добавляем
&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;vim&quot;&gt;  &lt;span class=&quot;k&quot;&gt;call&lt;/span&gt; pathogen#runtime_append_all_bundles&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;
Всё, pathogen готов к использованию. Теперь при запуске vim/gvim pathogen будет рекурсивно подгружать содержимое bundle как плагины.
&lt;/p&gt;
&lt;p&gt;
Каджый плагин будем устанавливать в виде &lt;a href=&quot;https://git.wiki.kernel.org/index.php/GitSubmoduleTutorial&quot; /&gt;git submodule&lt;/a&gt;. Субмодули в гит по сути хранят в себе адрес репозитория и хэш коммита HEAD.
После выпонения git submodule init исходные коды всех субмодулей будут инициализированы и вытянуты из репозиториев.
git submodule update - обновляет субрепозитории.
&lt;/p&gt;
&lt;br /&gt;
Добавление нового плагина
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;  git submodule add https://github.com/foo.git bundle/foo
  git add .
  git ci -m &lt;span class=&quot;s1&quot;&gt;&amp;#39;added new plugin&amp;#39;&lt;/span&gt;
  git push
  git submodule init
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;br /&gt;
Для обновления плагинов я использую следующий скрипт
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;  &lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
  git pull
  git submodule init
  git submodule update
  git submodule foreach git pull origin master
  git submodule foreach git checkout master
  git ci -a -m &lt;span class=&quot;s1&quot;&gt;&amp;#39;Update submodules to latest versions&amp;#39;&lt;/span&gt;
  git push
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;br /&gt;
С удалением плагинов дела обстоят труднее.
&lt;br /&gt;
Сначала следует удалить всю информацию о субмодуле из .gitmodules &amp;&amp; .git/config
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;  &lt;span class=&quot;c&quot;&gt;# а затем удалить директорию с плагином из git&lt;/span&gt;
  git rm --cached bundle/foo &lt;span class=&quot;c&quot;&gt;#обязательно без закрывающего слеша&lt;/span&gt;
  git ci -a -m &lt;span class=&quot;s1&quot;&gt;&amp;#39;remove foo&amp;#39;&lt;/span&gt;
  rm -rf bundle/foo
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;br /&gt;
Вот и все! Теперь пушим все это дело на github и радуемся!
&lt;br /&gt;
&lt;br /&gt;
P.S. .vimrc и .gvimrc лучше хранить следующим образом
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;  &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ~
  mv .gvimrc .vim/gvimrc
  mv .vimrc .vim/vimrc
  ln -s ~/.vim/vimrc ~/.vimrc
  ln -s ~/.vim/gvimrc ~/.gvimrc
  &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ~/.vim
  git add .
  git ci -m &lt;span class=&quot;s1&quot;&gt;&amp;#39;vim dotfiles added&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>Первый пост</title>
   <link href="http://gonzih.github.com/first-post"/>
   <updated>2011-04-04T00:00:00+03:00</updated>
   <id>http://gonzih.github.com/first-post</id>
   <content type="html">&lt;p&gt;Блог собран на основе Jekyll. Вообще впечатлиния от использования Jekyll очень положительные. Тут вам и куча языков разметки, использование Liqiud, расширяемость, тэги, пейнджинг, sitemap, atom, а в итоге получаем простой набор html страничек которые можно хостить где угодно.&lt;/p&gt;
&lt;p&gt;Этот блог к примеру висит на гитхабе. Гитхаб умеет сразу собирать ваш сайт на своей стороне из jekyll&amp;#8217;а после каждого git push, только вот плагины он не подхватывает к сожалению. Поэтому репо исходников отдельно, рейк таск для деплоя и вперёд и с песнями.&lt;/p&gt;
&lt;p&gt;Писать с нуля все было лень, за основу взял такую клевую штуку как &lt;a href=&quot;https://github.com/pelosi/jekylls-first-potion&quot;&gt;Jekyll First Potion&lt;/a&gt; (там есть неплохой плагин для тэгов).&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/Gonzih/blog-source&quot;&gt;Source&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/Gonzih/gonzih.github.com&quot;&gt;Blog Repo&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 
</feed>